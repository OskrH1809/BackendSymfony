<?php


namespace App\Tests\Api\Service;


use App\Service\FileUploader;
use League\Flysystem\FilesystemOperator;
use PHPUnit\Framework\TestCase;

class FileUploaderUnitTest extends TestCase
{

    public function testSuccessUploadBase64File()
    {
        $base64Image = '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';

        $filesystem = $this->getMockBuilder(FilesystemOperator::class)->disableOriginalConstructor()->getMock();
        $filesystem->expects(self::exactly(1))->method('write')->with($this->isType('string'), base64_decode($base64Image));

        $fileUploader = new FileUploader($filesystem);
        $filename = ($fileUploader)($base64Image);
        $this->assertNotEmpty($filename);
        $this->assertStringContainsString('.jpg', $filename);
    }
}
